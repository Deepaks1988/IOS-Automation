
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Appium XCUITest driver for iOS automation">
      
      
      
        <link rel="canonical" href="https://appium.github.io/appium-xcuitest-driver/troubleshooting/">
      
      
        <link rel="prev" href="../touch-id/">
      
      
        <link rel="next" href="../reference/commands/appium-xcuitest-driver/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.5">
    
    
      
        <title>Troubleshooting - Appium XCUITest Driver</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7a7fce14.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#known-problems" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="/appium-xcuitest-driver" title="Appium XCUITest Driver" class="md-header__button md-logo" aria-label="Appium XCUITest Driver" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Appium XCUITest Driver
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Troubleshooting
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/appium/appium-xcuitest-driver" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    appium/appium-xcuitest-driver
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="/appium-xcuitest-driver" title="Appium XCUITest Driver" class="md-nav__button md-logo" aria-label="Appium XCUITest Driver" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Appium XCUITest Driver
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/appium/appium-xcuitest-driver" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    appium/appium-xcuitest-driver
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        Setup & Requirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../device-preparation/" class="md-nav__link">
        Device Preparation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server-args/" class="md-nav__link">
        Appium Server Arguments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../capabilities/" class="md-nav__link">
        Capabilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../element-attributes/" class="md-nav__link">
        Element Attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security-flags/" class="md-nav__link">
        Security Feature Flags
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../locator-strategies/" class="md-nav__link">
        Locator Strategies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ios-predicate/" class="md-nav__link">
        iOS Predicates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../parallel-tests/" class="md-nav__link">
        Testing in Parallel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../execute-methods/" class="md-nav__link">
        Execute Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../touch-id/" class="md-nav__link">
        Touch ID
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Troubleshooting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Troubleshooting
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#known-problems" class="md-nav__link">
    Known problems
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weird-state" class="md-nav__link">
    Weird state
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-device-security-settings" class="md-nav__link">
    Real device security settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulator-resetting" class="md-nav__link">
    Simulator Resetting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete-files-generated-by-test-runs-to-avoid-possible-caching-issue" class="md-nav__link">
    Delete files generated by test runs to avoid possible caching issue
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/commands/appium-xcuitest-driver/" class="md-nav__link">
        Command Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../real-device-config/" class="md-nav__link">
        Real Device Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ci-setup/" class="md-nav__link">
        CI Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multiple-xcode-versions/" class="md-nav__link">
        Managing Multiple Xcodes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wda-custom-server/" class="md-nav__link">
        WebDriverAgent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ios-tvos/" class="md-nav__link">
        tvOS Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        About iOS Input Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../audio-capture/" class="md-nav__link">
        Audio Capture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ios-xctest-file-movement/" class="md-nav__link">
        Pushing/Pulling Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ios-xctest-install-certificate/" class="md-nav__link">
        Self-Signed Certificates
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#known-problems" class="md-nav__link">
    Known problems
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weird-state" class="md-nav__link">
    Weird state
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-device-security-settings" class="md-nav__link">
    Real device security settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulator-resetting" class="md-nav__link">
    Simulator Resetting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete-files-generated-by-test-runs-to-avoid-possible-caching-issue" class="md-nav__link">
    Delete files generated by test runs to avoid possible caching issue
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Troubleshooting</h1>

<h2 id="known-problems">Known problems</h2>
<ul>
<li>After many failures on real devices it could transition to a state where connections are no longer being accepted. To possibly remedy this issue reboot the device. Read https://github.com/facebook/WebDriverAgent/issues/507 for more details.</li>
<li>iPhone/iPad real devices show overlay, which has <code>Automation Running Hold both volume buttons to stop</code> text, since iOS/iPadOS 15. This is a known limitation of XCTest framework. This limitation does not affect screenshooting APIs though (e.g. the overlay is not visible on taken screenshots).</li>
<li>iPhone/iPad real devices <a href="https://github.com/appium/appium/issues/15898#issuecomment-927340411">require passcode or touch id</a> when they start a XCTest session since iOS/iPadOS 15. Disabling passcode/touch id in the device preference allows to workaround the behaviour above.</li>
<li>OpenSSL v3 breaks secure communication with real devices. It can cause a <a href="https://github.com/appium/appium/issues/16399">Failed to receive any data within the timeout</a> error in <a href="https://github.com/appium/appium-ios-device">appium-ios-device</a>. Please read <a href="https://github.com/appium/appium-ios-device/pull/88#discussion_r825315862">this issue</a> for more details.<ul>
<li>Please make sure your environment has Open SSL v1 for NodeJS environment, or prepare an OpenSSL v3 build by patching <code>OPENSSL_TLS_SECURITY_LEVEL=1</code>. (e.g. <a href="https://www.feistyduck.com/library/openssl-cookbook/online/ch-openssl.html">an article</a>)</li>
<li>This configuration is only necessary for XCUITest driver v4.3.0 or lower.</li>
</ul>
</li>
<li><code>shake</code> is implemented via AppleScript and works only on Simulator due to lack of support from Apple</li>
</ul>
<h2 id="weird-state">Weird state</h2>
<p><strong>Note:</strong> Running <code>WebDriverAgent</code> tests on a real device is particularly flakey. If things stop responding, the only recourse is, most often, to restart the device. Logs in the form of the following <em>may</em> start to occur:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>info<span class="w"> </span>JSONWP<span class="w"> </span>Proxy<span class="w"> </span>Proxying<span class="w"> </span><span class="o">[</span>POST<span class="w"> </span>/session<span class="o">]</span><span class="w"> </span>to<span class="w"> </span><span class="o">[</span>POST<span class="w"> </span>http://10.35.4.122:8100/session<span class="o">]</span><span class="w"> </span>with<span class="w"> </span>body:<span class="w"> </span><span class="o">{</span><span class="s2">&quot;desiredCapabilities&quot;</span>:<span class="o">{</span><span class="s2">&quot;ap...&quot;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>dbug<span class="w"> </span>WebDriverAgent<span class="w"> </span>Device:<span class="w"> </span>Jul<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">13</span>:20:42<span class="w"> </span>iamPhone<span class="w"> </span>XCTRunner<span class="o">[</span><span class="m">240</span><span class="o">]</span><span class="w"> </span>&lt;Warning&gt;:<span class="w"> </span>Listening<span class="w"> </span>on<span class="w"> </span>USB
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>dbug<span class="w"> </span>WebDriverAgent<span class="w"> </span>Device:<span class="w"> </span>Jul<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">13</span>:21:42<span class="w"> </span>iamPhone<span class="w"> </span>XCTRunner<span class="o">[</span><span class="m">240</span><span class="o">]</span><span class="w"> </span>&lt;Warning&gt;:<span class="w"> </span>Enqueue<span class="w"> </span>Failure:<span class="w"> </span>UI<span class="w"> </span>Testing<span class="w"> </span>Failure<span class="w"> </span>-<span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>application<span class="w"> </span>state<span class="w"> </span>promptly.<span class="w"> </span>&lt;unknown&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>dbug<span class="w"> </span>WebDriverAgent<span class="w"> </span>Device:<span class="w"> </span>Jul<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">13</span>:21:57<span class="w"> </span>iamPhone<span class="w"> </span>XCTRunner<span class="o">[</span><span class="m">240</span><span class="o">]</span><span class="w"> </span>&lt;Warning&gt;:<span class="w"> </span>Enqueue<span class="w"> </span>Failure:<span class="w"> </span>UI<span class="w"> </span>Testing<span class="w"> </span>Failure<span class="w"> </span>-<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span>screenshot<span class="w"> </span>within<span class="w"> </span>15s<span class="w"> </span>&lt;unknown&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>dbug<span class="w"> </span>WebDriverAgent<span class="w"> </span>Device:<span class="w"> </span>Jul<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">13</span>:22:57<span class="w"> </span>iamPhone<span class="w"> </span>XCTRunner<span class="o">[</span><span class="m">240</span><span class="o">]</span><span class="w"> </span>&lt;Warning&gt;:<span class="w"> </span>Enqueue<span class="w"> </span>Failure:<span class="w"> </span>UI<span class="w"> </span>Testing<span class="w"> </span>Failure<span class="w"> </span>-<span class="w"> </span>App<span class="w"> </span>state<span class="w"> </span>of<span class="w"> </span><span class="o">(</span>null<span class="o">)</span><span class="w"> </span>is<span class="w"> </span>still<span class="w"> </span>unknown<span class="w"> </span>&lt;unknown&gt;<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
</code></pre></div>
<h2 id="real-device-security-settings">Real device security settings</h2>
<p>On some systems, especially CI ones, where tests are executed by a command line agents, macOS Accessibility restrictions make the <code>WebDriverAgent</code> system unable to retrieve the development keys from the system keychain. This is usually manifest
by <code>xcodebuild</code> returning an error code <code>65</code>. A workaround for this is to use a private key that is not stored on the system
keychain. See <a href="https://github.com/appium/appium/issues/6955">this issue</a> and <a href="http://stackoverflow.com/questions/16550594/jenkins-xcode-build-works-codesign-fails">this Stack Exchange post</a>.</p>
<p>To export the key, use</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>security create-keychain -p [keychain_password] MyKeychain.keychain
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>security import MyPrivateKey.p12 -t agg -k MyKeychain.keychain -P [p12_Password] -A
</code></pre></div>
<p>where <code>MyPrivateKey.p12</code> is the private development key exported from the system keychain.</p>
<p>The full path to the keychain can then be sent to the Appium system using the <code>keychainPath</code> desired capability,
and the password sent through the <code>keychainPassword</code> capability.</p>
<h2 id="simulator-resetting">Simulator Resetting</h2>
<p>By default, this driver will create a new iOS simulator and run tests on it, deleting the simulator afterward.</p>
<p>If you specify a specific simulator using the <code>udid</code> capability, this driver will boot the specified simulator and shut it down afterwards.</p>
<p>If a udid is provided and the simulator is already running, this driver will leave it running after the test run.</p>
<p>In short, this driver tries to leave things as it found them.</p>
<p>You can use the <code>noReset</code> capability to adjust this behavior.
Setting <code>noReset</code> to <code>true</code> will leave the simulator running at the end of a test session.</p>
<h2 id="delete-files-generated-by-test-runs-to-avoid-possible-caching-issue">Delete files generated by test runs to avoid possible caching issue</h2>
<p>Testing on iOS generates files that can sometimes get large. These include logs, temporary files, and derived data from Xcode runs. Generally the following locations are where they are found, should they need to be deleted:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$HOME/Library/Logs/CoreSimulator/*
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>$HOME/Library/Developer/Xcode/DerivedData/*
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2012 OpenJS Foundation
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/AppiumDevs" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.407015b8.min.js"></script>
      
    
  </body>
</html>